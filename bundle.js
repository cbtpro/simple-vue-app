(()=>{"use strict";var e;(e={data:()=>({message:"你好，世界！"}),methods:{sayHello(){console.log(this.message)}},mounted(){console.log("组件挂载")},unmounted(){console.log("组件卸载")}},{mount(t){const o=document.querySelector(t);if(!o)return;const n=e.data(),s={},a={};Object.keys(n).forEach(e=>{let t=n[e];s[e]=[],Object.defineProperty(a,e,{get:()=>t,set(o){t=o,s[e].forEach(e=>e())}})});const c=Object.create(a);for(const t in e.methods)c[t]=e.methods[t].bind(c);!function e(t){if(t.nodeType===Node.ELEMENT_NODE){if(t.hasAttribute("v-model")){const e=t.getAttribute("v-model");t.value=a[e],t.addEventListener("input",t=>{a[e]=t.target.value}),s[e].push(()=>{t.value=a[e]})}[...t.attributes].forEach(e=>{if(e.name.startsWith("@")){const o=e.name.slice(1),n=e.value;t.addEventListener(o,c[n].bind(c))}}),[...t.childNodes].forEach(t=>e(t))}if(t.nodeType===Node.TEXT_NODE){const e=t.textContent,o=/{{\s*(\w+)\s*}}/g,n=[...e.matchAll(o)];if(n.length){const c=()=>{t.textContent=e.replace(o,(e,t)=>a[t])};c(),n.forEach(e=>{const t=e[1];s[t].push(c)})}}}(o),e.mounted&&e.mounted.call(c),e.unmounted&&window.addEventListener("beforeunload",()=>{e.unmounted.call(c)})}}).mount("#app")})();